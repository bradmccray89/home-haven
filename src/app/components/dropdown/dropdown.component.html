<div class="relative inline-block w-full h-full">
  <div
    #toggleButton
    class="flex flex-col items-end justify-center w-full h-full text-gray-700 cursor-pointer overflow-clip dark:text-white whitespace-nowrap"
    (click)="toggleDropdown()"
  >
    <ng-content></ng-content>
  </div>
  <div
    #dropdown
    *ngIf="dropdownOpen"
    class="absolute right-0 z-[99999] mt-1 overflow-hidden text-gray-700 transition-colors duration-500 ease-in-out bg-white border border-gray-300 rounded-md shadow-xl dark:bg-slate-700 dark:border-white dark:text-white"
    @expand
  >
    <ul class="flex flex-col items-center justify-center w-full p-2">
      <li
        *ngFor="let item of data"
        class="dropdown-item"
        [ngClass]="{ clickable: item?.clickable }"
        [routerLink]="[item?.route]"
        (click)="toggleDropdown()"
      >
        {{ item?.message }}
      </li>
      <li
        *ngIf="showThemeSwitch"
        class="transition-colors duration-500 ease-in-out border-t border-b border-gray-300 dropdown-item dark:border-gray-500"
      >
        <ng-icon
          name="heroSunSolid"
          size="24px"
          color="orange"
          class="mr-2 transition-opacity duration-500 opacity-100 dark:opacity-0"
        ></ng-icon>
        <label for="toggle" class="switch">
          <input
            type="checkbox"
            id="toggle"
            class="sr-only"
            [checked]="isDarkTheme | async"
            (click)="toggleTheme()"
          />
          <span
            class="bg-gray-200 border-gray-200 slider round dark:bg-blue-400 dark:border-blue-400 text-[1.5rem]"
          ></span>
        </label>
        <ng-icon
          name="heroMoonSolid"
          size="24px"
          color="white"
          class="ml-2 transition-opacity duration-500 opacity-0 dark:opacity-100"
        ></ng-icon>
      </li>
      <li *ngIf="showLogout" class="dropdown-item">
        <button
          class="px-5 py-2 rounded-md bg-slate-300 dark:bg-blue-400 dark:hover:bg-blue-500 hover:bg-slate-400 dark:active:bg-blue-600 active:bg-slate-400"
          (click)="logout()"
        >
          Sign Out
        </button>
      </li>
    </ul>
  </div>
</div>
